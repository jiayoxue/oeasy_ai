<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>中国省份热力地图</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }

        #main {
            width: 90%;
            height: 90%;
            max-width: 1200px;
            max-height: 800px;
        }
    </style>
    <!-- 引入 ECharts 文件 -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.3/dist/echarts.min.js"></script>
    <!-- 引入中国地图数据 -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.3/map/js/china.js"></script>
</head>

<body>
    <div id="main"></div>

    <script>
        // 中国各省份的人口数据（单位：万人）
        const populationData = [
            { name: '北京', value: 2154 },
            { name: '天津', value: 1562 },
            { name: '河北', value: 7556 },
            { name: '山西', value: 3735 },
            { name: '内蒙古', value: 2529 },
            { name: '辽宁', value: 4369 },
            { name: '吉林', value: 2705 },
            { name: '黑龙江', value: 3800 },
            { name: '上海', value: 2424 },
            { name: '江苏', value: 8029 },
            { name: '浙江', value: 5737 },
            { name: '安徽', value: 6077 },
            { name: '福建', value: 3911 },
            { name: '江西', value: 4648 },
            { name: '山东', value: 10006 },
            { name: '河南', value: 9605 },
            { name: '湖北', value: 5902 },
            { name: '湖南', value: 6918 },
            { name: '广东', value: 11346 },
            { name: '广西', value: 4885 },
            { name: '海南', value: 934 },
            { name: '重庆', value: 3048 },
            { name: '四川', value: 8341 },
            { name: '贵州', value: 3856 },
            { name: '云南', value: 4830 },
            { name: '西藏', value: 337 },
            { name: '陕西', value: 3835 },
            { name: '甘肃', value: 2637 },
            { name: '青海', value: 598 },
            { name: '宁夏', value: 682 },
            { name: '新疆', value: 2487 },
            { name: '香港', value: 747 },
            { name: '澳门', value: 67 },
            { name: '台湾', value: 2360 }
        ];

        // 动态计算最大值
        const maxPopulation = Math.max(...populationData.map(item => item.value));

        // 初始化 ECharts 实例
        const myChart = echarts.init(document.getElementById('main'));

        // 指定图表的配置项和数据
        const option = {
            title: {
                text: '中国省份人口热力图',
                left: 'center'
            },
            tooltip: {
                trigger: 'item',
                formatter: function (params) {
                    return `${params.name}: ${params.value || '无数据'}万人`;
                }
            },
            visualMap: {
                min: 0,
                max: maxPopulation,
                left: 'left',
                top: 'bottom',
                text: ['高', '低'],
                calculable: true,
                inRange: {
                    color: ['#e0f7fa', '#006064'] // 从浅蓝到深蓝
                }
            },
            series: [
                {
                    name: '人口',
                    type: 'map',
                    mapType: 'china',
                    roam: true, // 启用缩放和拖动
                    label: {
                        show: true
                    },
                    data: populationData,
                    itemStyle: {
                        areaColor: '#ccc',
                        borderColor: '#888',
                        borderWidth: 1
                    },
                    emphasis: {
                        itemStyle: {
                            areaColor: '#FFD700' // 高亮颜色
                        }
                    }
                }
            ]
        };

        // 使用刚指定的配置项和数据显示图表
        myChart.setOption(option);
    </script>
</body>

</html>
